@page
@model MyApp.Namespace.ReviewsModel
@{

}

<!DOCTYPE html>
<html>
<header>
    <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
        <div class="container-fluid">
            <img src="/Images/Burger.svg" width="35" border=”0”>
            <a class="navbar-brandd" asp-area="" asp-controller="Home" asp-action="Index">YumYum</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon my-button"></span>
            </button>
            <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between ">
                <ul class="navbar-nav flex-grow-1">
                    <li class="nav-item">
                        <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" asp-area="" asp-controller="Home"
                            asp-action="Discounts">Discounts</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="News">News</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Reviews">Reviews</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" asp-area="" asp-controller="Home"
                            asp-action="About Us">AboutUs</a>
                    <li class="nav-itemm">
                        <a class="nav-link text-dark" href="#" onclick="scrollToElement('map')">Map</a>
                    </li>
                </ul>
            </div>
        </div>
        <div>
    </nav>
</header>
<head>
  <title>Отзывы</title>
  <link rel="stylesheet"
    href="file:///C:/Users/User/Desktop/zalupa/MVC-Web-App/MVCWebApp/Views/Reviews/Reviews.cshtml.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
  <style>
    .vemotau-vokusipol {
    margin-bottom: 20px;
    border: 1px solid #ccc;
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1); /* Тень контейнера */
  }

  /* Стили для изображения отзыва */
  .testimonial-image {
    width: 50px;
    height: 50px;
    border-radius: 50%; /* Для круглой формы изображения */
    margin-right: 10px;
  }
  /* Стили для информации об отзыве */
  .info {
    font-family: 'Zothic', sans-serif;
    font-size: 18pt;
  }

  /* Стили для имени пользователя */
  .gecedanam {
    font-weight: bold;
    margin-bottom: 5px;
  }
.testimonial .apogered-gselected i {
    font-size: 20px; /* Уменьшаем размер звезд в отзывах */
  }
  /* Стили для рейтинга */
  .apogered-gselected {
    color: gold;
    margin-bottom: 5px;
  }

  /* Стили для текста отзыва */
  .testimonial p {
    font-family: 'Zothic', sans-serif;
    font-size: 18pt;
    margin-top: 5px;
  }
    h1 {
      font-family: Zothic, sans-serif;
      font-size: 24px;
      text-align: center;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      /* 100% высоты экрана */
      margin-top: -200px;
    }

    .star-rating i {
      font-size: 20px;
      cursor: pointer;
      transition: color 0.25s;
    }

    .star-rating i:hover,
    .star-rating i.checked {
      color: gold;
    }
  </style>
</head>

<body>
  <div class="koguvcavis-varazdel">
    <div class="sestim-donials">
      <h1>Отзывы </h1>
      <div class="sagestim-lonials" id="reviews">
        <!-- Отзыв 1 -->
        <div class='vemotau-vokusipol'>
          <div class='testimonial'>
            <table>
              <tr>
                <td><img src='http://zornet.ru/_fr/83/7890600.jpg' alt='' class='testimonial-image'></td>
                <td style='vertical-align: top;'>
                  <div class='info' style='vertical-align: top;font-family: Zothic, sans-serif; font-size: 24pt;'>
                    <div class='gecedanam'>Антон Попов</div>
                    <div class='apogered-gselected'>
                      <i class='fas fa-star'></i>
                      <i class='fas fa-star'></i>
                      <i class='fas fa-star'></i>
                      <i class='fas fa-star'></i>
                      <i class='fas fa-star'></i>
                    </div>
                    <p style='font-family: Zothic, sans-serif; font-size: 24pt;'>Здесь первое описание. Продолжение.</p>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>

        <!-- Отзыв 2 -->
        <div class='vemotau-vokusipol'>
          <div class='testimonial'>
            <table>
              <tr>
                <td><img src='http://zornet.ru/_fr/83/7890600.jpg' alt='' class='testimonial-image'></td>
                <td style='vertical-align: top;'>
                  <div class='info' style='vertical-align: top;font-family: Zothic, sans-serif; font-size: 24pt;'>
                    <div class='gecedanam'>Мария Иванова</div>
                    <div class='apogered-gselected'>
                      <i class='fas fa-star'></i>
                      <i class='fas fa-star'></i>
                      <i class='fas fa-star'></i>
                    </div>
                    <p style='font-family: Zothic, sans-serif; font-size: 24pt;'>Отличное место для быстрого перекуса!
                    </p>
                  </div>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="sagestim-lonials" id="reviews">
      <!-- Отзывы пользователей будут здесь -->
    </div>
  </div>

  <!-- Форма для нового отзыва -->
  <div class="container">
    <!-- Ваша форма здесь -->
    <div class="vemotau-vokusipol">
      <h2>Оставьте свой отзыв</h2>
      <div class="star-rating">
        <div class="star-rating">
          <i class="fas fa-star" onclick="setRating(1)"></i>
          <i class="fas fa-star" onclick="setRating(2)"></i>
          <i class="fas fa-star" onclick="setRating(3)"></i>
          <i class="fas fa-star" onclick="setRating(4)"></i>
          <i class="fas fa-star" onclick="setRating(5)"></i>
        </div>
      </div>
      <form id="userReviewForm">
        <label for="userReviewName">Имя:</label><br>
        <input type="text" id="userReviewName" name="userReviewName"><br>

        <label for="userReviewText">Отзыв:</label><br>
        <textarea id="userReviewText" name="userReviewText" rows="4" cols="50"></textarea><br>

        <input type="submit" value="Отправить">
      </form>
    </div>
  </div>
  </div>
  </div>
  <script>
    function setRating(stars) {
      const starIcons = document.querySelectorAll('.star-rating i');
      starIcons.forEach((icon, index) => {
        if (index < stars) {
          icon.classList.add('checked');
        } else {
          icon.classList.remove('checked');
        }
      });
    }

    document.getElementById("userReviewForm").addEventListener("submit", function (event) {
      event.preventDefault(); // Предотвращаем отправку формы по умолчанию

      const userName = document.getElementById("userReviewName").value;
      const userReviewText = document.getElementById("userReviewText").value;

      const rating = document.querySelectorAll('.star-rating i.checked').length;

      // Создаем новый блок с отзывом и добавляем его на страницу
      const newReview = document.createElement("div");
      newReview.innerHTML = `<div class='vemotau-vokusipol'>
                                        <div class='testimonial'>
                                            <table>
                                                <tr>
                                                    <td><img src='https://cdn.discordapp.com/attachments/1176620866440798361/1184616841168048188/IMG_0011_Original.jpg?ex=658c9f68&is=657a2a68&hm=4a8927baaf93106e3e3a7171a597711e38aba566e1488333e7e747b1f6d87692&' alt='' class='testimonial-image'></td>
                                                    <td style='vertical-align: top;'>
                                                        <div class='info' style='vertical-align: top;font-family: Zothic, sans-serif; font-size: 24pt;'>
                                                            <div class='gecedanam'>${userName}</div>
                                                            <div class='apogered-gselected'>${Array(rating).fill('<i class="fas fa-star"></i>').join('')}</div>
                                                            <p style='font-family: Zothic, sans-serif; font-size: 24pt;'>${userReviewText}</p>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>`;

      // Вставляем новый отзыв после формы
      const reviewsContainer = document.getElementById("reviews");
      reviewsContainer.appendChild(newReview);

      // Очищаем поля формы после отправки отзыва
      document.getElementById("userReviewName").value = "";
      document.getElementById("userReviewText").value = "";

      // Сбрасываем выбор звезд
      const starIcons = document.querySelectorAll('.star-rating i');
      starIcons.forEach((icon) => {
        icon.classList.remove('checked');
      });
    });
  </script>
</body>

</html>
